{% extends 'layout.njk' %}

{% block content %}
    <div class="card table-container">
       <div class="header">
	  <a class='button' href="/students/create">Novo</a>
	  <form action="/students" method="GET">
	     <input 
		 type="text" 
		 name='filter' 
		 placeholder='Aulo ou Email' 
		 value={{filter}}
	      >
	     <button type="submit">Filtrar</button>
	  </form>
       </div>
       <table width='100%'>
	  <thead>
	     <tr>
		<th>Estudante</th>
		<th>Email</th>
		<th>Ano Escolar</th>
		<th>Ação</th>
	     </tr>
	  </thead>
	  <tbody>
	    {% for student in students %}
		<tr>
		   <td><span style='background-image: url({{student.avatar_url}})'></span>{{ student.name }}</td>
		   <td>{{student.email}}</td>
		   <td><span class="table-services">{{student.grade}}</span></td>
		   <td><a href="students/{{student.id}}">Detalhe</a></td>
		</tr>
	    {% endfor %}

	  </tbody>

       </table>
       <div class="pagination"
	    data-page={{pagination.page}}
	    data-total={{pagination.total}}
	    data-filter={{filter}}
       ></div>
    </div> 

{% endblock content %} 
